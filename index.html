
<!DOCTYPE html>
<html lang="zh-CN ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>â€ || Welcomeï¼</title>
    <meta name="author" content="yx-Chen">
    <meta name="description" content="About Life, RoboMaster,and ... ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/Wiki/images/avatar.png">
    <link rel="stylesheet" href="/Wiki/css/antd.min.css">
    
    <link rel="stylesheet" href="/Wiki/css/full-theme.css">
    
    <script src="/Wiki/js/vue.js"></script>
    <script src="/Wiki/js/antd.min.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜(æµè§ˆå™¨é»˜è®¤å¼€å¯)</p>
                    <div>
                        <img src="/Wiki/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/Wiki/">
            <span class="title">â€</span>
        </a>
        
        <a href="/Wiki/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/Wiki/archives">
            <span>
                <a-icon type="folder" theme="filled" />
            </span>
            <span>archives</span>
        </a>
        
        <a href="/Wiki/categories">
            <span>
                <a-icon type="book" theme="filled" />
            </span>
            <span>categories</span>
        </a>
        
        <a href="/Wiki/tags">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>â€</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/Wiki/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/Wiki/archives">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="folder" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">archives</div>
                </div>
            </a>
            
            <a href="/Wiki/categories">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="book" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">categories</div>
                </div>
            </a>
            
            <a href="/Wiki/tags">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                    <div id="home-head" style=background-image:url('home.jpg')>
    <script>
        var menu = document.getElementById("menu")
        menu.className += " menu-color"
    </script>
     
    <div id="home-info" class="home-info" @click="home_click">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>â€</h1>
                <h3>Welcomeï¼</h3>
                <h5>About Life, RoboMaster,and ...</h5>
            </div>
        </span>
    </div>
     
</div>



<div id="home-posts-wrap" class=home-posts-wrap-no-card>
    <div id="home-posts">

        <div id="posts">
            

<div class="post">

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-Communication/">
        <h2>
            ROS_Communication
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/Wiki/categories/Notes">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Notes
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/12/2
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="ROSé€šä¿¡æœºåˆ¶"><a href="#ROSé€šä¿¡æœºåˆ¶" class="headerlink" title="ROSé€šä¿¡æœºåˆ¶"></a>ROSé€šä¿¡æœºåˆ¶</h1><p>ROSæ˜¯è¿›ç¨‹åˆ†å¸ƒå¼æ¡†æ¶ï¼Œå› ä¸ºè¿›ç¨‹ç”šè‡³å¯ä»¥åˆ†å¸ƒäºä¸åŒçš„ä¸»å¥ï¼ŒååŒå·¥ä½œä»è€Œåˆ†æ•£è®¡ç®—å‹åŠ›ï¼Œå› æ­¤éœ€è¦ä»‹ç»ROSçš„é€šä¿¡æœºåˆ¶</p>
<ul>
<li>è¯é¢˜é€šä¿¡ï¼ˆå‘å¸ƒè®¢é˜…ï¼‰</li>
<li>æœåŠ¡é€šä¿¡ï¼ˆè¯·æ±‚å“åº”æ¨¡å¼ï¼‰</li>
<li>å‚æ•°æœåŠ¡å™¨é€šä¿¡ï¼ˆå‚æ•°å…±äº«æ¨¡å¼ï¼‰</li>
</ul>
<h2 id="è¯é¢˜é€šä¿¡"><a href="#è¯é¢˜é€šä¿¡" class="headerlink" title="è¯é¢˜é€šä¿¡"></a>è¯é¢˜é€šä¿¡</h2><p>åŸºäºå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œä¸€ä¸ªèŠ‚ç‚¹å‘å¸ƒæ¶ˆæ¯ï¼Œå¦ä¸€ä¸ªèŠ‚ç‚¹è®¢é˜…æ¶ˆæ¯ï¼Œé€‚ç”¨äºä¸æ–­æ›´æ–°çš„æ•°æ®ä¼ è¾“ç›¸å…³çš„åº”ç”¨åœºæ™¯</p>
<ul>
<li>master ç®¡ç†å’ŒåŒ¹é…è¯é¢˜</li>
<li>talker å‘å¸ƒè€…</li>
<li>listener è®¢é˜…è€…</li>
</ul>
<pre><code class="cpp">//publisher
#include &quot;ros/ros.h&quot;
#include &quot;std_msgs/String.h&quot;

int main(int argc ,char* argv[])
&#123;
    //ros init
    ros::init(argc,argv,&quot;publisher&quot;);

    //create node handler
    ros::NodeHandle n;
    //publisher object
    ros::Publisher pub=n.advertise&lt;std_msgs::String&gt;(&quot;topic&quot;,10);
    //publish logic
    std_msgs::String msg;
    //frequency
    ros::Rate rate(10);
    while(ros::ok())
    &#123;
        
        msg.data= &quot;hello&quot;;
        pub.publish(msg);
        rate.sleep();
    &#125;

    return 0;
&#125;
</code></pre>
<pre><code class="cpp">//subscriber
#include &quot;ros/ros.h&quot;
#include &quot;std_msgs/String.h&quot;

void MsgCallback(const std_msgs::String::ConstPtr &amp;msg)&#123;

    ROS_INFO(&quot;topic data:%s&quot;,msg-&gt;data.c_str());

&#125;

int main(int argc,char *argv[])
&#123;
    //ros init
    ros::init(argc,argv,&quot;sub&quot;);
    //ros handler
    ros::NodeHandle n;
    //subsriber create
    ros::Subscriber sub = n.subscribe(&quot;topic&quot;,10,MsgCallback);

    ros::spin();
    return 0;
&#125;
</code></pre>
<h2 id="è‡ªå®šä¹‰æ¶ˆæ¯"><a href="#è‡ªå®šä¹‰æ¶ˆæ¯" class="headerlink" title="è‡ªå®šä¹‰æ¶ˆæ¯"></a>è‡ªå®šä¹‰æ¶ˆæ¯</h2><p>ä»¥å›ºå®šæ ¼å¼åˆ›å»ºmsgæ–‡ä»¶</p>
<p>ç¼–è¾‘é…ç½®æ–‡ä»¶</p>
<p>ç¼–è¯‘ç”Ÿæˆå¯ä»¥è¢«è°ƒç”¨ä¸­é—´æ–‡ä»¶</p>
<pre><code class="xml">&lt;build_depend&gt;message_generation&lt;/build_depend&gt;
&lt;exec_depend&gt;message_runtime&lt;/exec_depend&gt;
</code></pre>
<pre><code class="makefile">find_package(catkin REQUIRED COMPONENTS
  roscpp
  rospy
  std_msgs
  message_generation
)

add_message_files(
  FILES
  Person.msg
)

generate_messages(
  DEPENDENCIES
  std_msgs
)

catkin_package(
#  INCLUDE_DIRS include
#  LIBRARIES plubming_pubsub
  CATKIN_DEPENDS roscpp rospy std_msgs message_runtime
#  DEPENDS system_lib
)
</code></pre>
<p>ä½¿ç”¨è‡ªå®šä¹‰çš„msg</p>
<pre><code class="makefile">Person.msg

string name
int32 age
float32 height
</code></pre>
<pre><code class="cpp">//pub self data
#include &quot;ros/ros.h&quot;
#include &quot;plubming_pubsub/Person.h&quot;

int main(int argc,char *argv[])&#123;
    

    ros::init(argc,argv,&quot;pub_self&quot;);

    ros::NodeHandle n;

    ros::Publisher pub_self = n.advertise&lt;plubming_pubsub::Person&gt;(&quot;self_topic&quot;,10);

    plubming_pubsub::Person person;
    
    person.name = &quot;Micky&quot;;
    person.age = 22;
    person.height = 1.80;

    ros::Rate rate(1);

    while(ros::ok())
    &#123;
        pub_self.publish(person);
        rate.sleep();
    &#125;
    return 0;
&#125;
</code></pre>
<pre><code class="cpp">//self data subscriber
#include &quot;ros/ros.h&quot;
#include &quot;plubming_pubsub/Person.h&quot;

void selfMsgCallback(const plubming_pubsub::Person::ConstPtr &amp;msg)&#123;
    
    ROS_INFO(&quot;self data age is: %d&quot;,msg-&gt;age);
    ROS_INFO(&quot;self date height is: %.3f&quot;,msg-&gt;height);
    ROS_INFO(&quot;self data name is: %s&quot;,msg-&gt;name.c_str());
&#125;
int main(int argc,char *argv[])
&#123;

    ros::init(argc,argv,&quot;self_sub&quot;);
    ros::NodeHandle n;
    ros::Subscriber sub = n.subscribe(&quot;self_topic&quot;,10,selfMsgCallback);
    ros::spin();
    return 0;
&#125;
</code></pre>
<h2 id="æœåŠ¡é€šä¿¡"><a href="#æœåŠ¡é€šä¿¡" class="headerlink" title="æœåŠ¡é€šä¿¡"></a>æœåŠ¡é€šä¿¡</h2><p>æœ‰ä¸€å®šå®æ—¶æ€§è¦æ±‚ï¼Œå¹¶ä¸”ç”±ä¸€å®šé€»è¾‘å¤„ç†çš„åº”ç”¨åœºæ™¯</p>
<p>è‡ªå®šä¹‰srv</p>
<pre><code class="cpp">//request
int32 num1
int32 num2
---
//response
int32 sum
</code></pre>
<pre><code class="cpp">add_service_files(
  FILES
  Addints.srv
)

add_dependencies(server $&#123;PROJECT_NAME&#125;_gencpp)
add_dependencies(client $&#123;PROJECT_NAME&#125;_gencpp)
</code></pre>
<pre><code class="cpp">//client.cpp
#include &quot;plubming_server_client/Addints.h&quot;
#include &quot;ros/ros.h&quot;

int main(int argc,char* argv[])
&#123;
    if(argc != 3)&#123;
        ROS_INFO(&quot;failed&quot;);
        return 1;
    &#125;
    ros::init(argc,argv,&quot;client&quot;);
    ros::NodeHandle n;
    ros::ServiceClient client = n.serviceClient&lt;plubming_server_client::Addints&gt;(&quot;addints&quot;);
    //request
    plubming_server_client::Addints add;
    add.request.num1 = atoi(argv[1]);
    add.request.num2 = atoi(argv[2]);
    if (client.call(add))
    &#123;
        ROS_INFO(&quot;success&quot;);
        ROS_INFO(&quot;result = %d&quot;,add.response.sum);
    &#125;
    else ROS_INFO(&quot;failed&quot;);

    return 0;
&#125;
</code></pre>
<h2 id="å‚æ•°æœåŠ¡å™¨"><a href="#å‚æ•°æœåŠ¡å™¨" class="headerlink" title="å‚æ•°æœåŠ¡å™¨"></a>å‚æ•°æœåŠ¡å™¨</h2><p>å­˜å‚¨å¤šèŠ‚ç‚¹å…±äº«çš„æ•°æ®ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ä¸ºé«˜æ€§èƒ½è€Œè®¾è®¡çš„ï¼Œå› æ­¤å¯ä»¥å‚¨å­˜ä¸€äº›é™æ€çš„å…¨å±€å˜é‡</p>
<pre><code class="cpp">#include &quot;ros/ros.h&quot;

int main(int argc ,char **argv)
&#123;
    ros::init(argc,argv,&quot;param_server&quot;);
    ros::NodeHandle n;
    //add parameter

    n.setParam(&quot;type&quot;,&quot;xiaohuang&quot;);
    n.setParam(&quot;radius&quot;,0.15);

    if(n.deleteParam(&quot;type&quot;)) ROS_INFO(&quot;delete success&quot;);
    else ROS_INFO(&quot;delete failed&quot;);
    return 0;
&#125;
</code></pre>
<pre><code class="cpp">add_executable(param_server src/param_server.cpp)

target_link_libraries(param_server
  $&#123;catkin_LIBRARIES&#125;
)
</code></pre>
<pre><code class="cpp">rosparam list
rosparam get xxx
</code></pre>
<p>å‚æ•°æŸ¥è¯¢</p>
<pre><code class="cpp">#include &quot;ros/ros.h&quot;

int main(int argc,char** argv)
&#123;

    ros::init(argc,argv,&quot;param_get&quot;);
    ros::NodeHandle n;

    //getParamCached
    double radius = 0;
    if(n.getParamCached(&quot;radius&quot;,radius))
    &#123;
        ROS_INFO(&quot;radius is :%.2f&quot;,radius);
    &#125;
    else ROS_INFO(&quot;failed&quot;);

    //getParaNames
    std::vector&lt;std::string&gt; names;
    n.getParamNames(names);
    for (auto &amp;&amp;name:names)
    &#123;
        ROS_INFO(&quot;element:%s&quot;,name.c_str());
    &#125;

    //hasParam
    bool flag1 = n.hasParam(&quot;radius&quot;);
    bool flag2 = n.hasParam(&quot;radius fault&quot;);
    ROS_INFO(&quot;flag1:%d&quot;,flag1);
    ROS_INFO(&quot;flag2:%d&quot;,flag2);

    std::string key;
    n.searchParam(&quot;radius&quot;,key);
    ROS_INFO(&quot;search result %s&quot;,key);
    return 0;
&#125;
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/Wiki/tags/ROS" style=color:#00a596>
                ROS
            </a>
        </span>
        
    </div>

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-Communication/ " class="go-post">
        é˜…è¯»å…¨æ–‡
    </a>
</div>

<div class="post">

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-HeadSrcFile/">
        <h2>
            HeadFile-and-SrcFile
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/Wiki/categories/Notes">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Notes
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/12/2
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="è‡ªå®šä¹‰å¤´æ–‡ä»¶ä¸æºæ–‡ä»¶"><a href="#è‡ªå®šä¹‰å¤´æ–‡ä»¶ä¸æºæ–‡ä»¶" class="headerlink" title="è‡ªå®šä¹‰å¤´æ–‡ä»¶ä¸æºæ–‡ä»¶"></a>è‡ªå®šä¹‰å¤´æ–‡ä»¶ä¸æºæ–‡ä»¶</h1><ul>
<li>ç¼–å†™å¤´æ–‡ä»¶</li>
<li>ç¼–å†™æºæ–‡ä»¶</li>
<li>é…ç½®æ–‡ä»¶</li>
</ul>
<pre><code class="cpp">add_library(NAME
    path of .h
    path of .cpp
)

add_dependencies(NAME ...)

target_link_libraries(NAME
    ...
)
åœ¨ç¼–è¾‘target_link_librariesæ—¶éœ€è¦å°†libraryçš„NAMEåŒ…å«è¿›å»
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/Wiki/tags/ROS" style=color:#ff7d73>
                ROS
            </a>
        </span>
        
    </div>

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-HeadSrcFile/ " class="go-post">
        é˜…è¯»å…¨æ–‡
    </a>
</div>

<div class="post">

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-Manager/">
        <h2>
            ROS_Manager
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/Wiki/categories/Notes">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Notes
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/12/2
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="ROSè¿è¡Œç®¡ç†"><a href="#ROSè¿è¡Œç®¡ç†" class="headerlink" title="ROSè¿è¡Œç®¡ç†"></a>ROSè¿è¡Œç®¡ç†</h1><h2 id="roså…ƒåŠŸèƒ½åŒ…"><a href="#roså…ƒåŠŸèƒ½åŒ…" class="headerlink" title="roså…ƒåŠŸèƒ½åŒ…"></a>roså…ƒåŠŸèƒ½åŒ…</h2><p>å®ŒæˆROSç³»ç»Ÿä¸€ä¸ªç³»ç»Ÿæ€§çš„åŠŸèƒ½ï¼Œå¯èƒ½æ¶‰åŠå¤šä¸ªåŠŸèƒ½åŒ…å³å¯ã€‚</p>
<h2 id="roså…ƒåŠŸèƒ½åŒ…çš„å®ç°"><a href="#roså…ƒåŠŸèƒ½åŒ…çš„å®ç°" class="headerlink" title="roså…ƒåŠŸèƒ½åŒ…çš„å®ç°"></a>roså…ƒåŠŸèƒ½åŒ…çš„å®ç°</h2><pre><code class="markdown">cmake_minimum_required(VERSION 3.0.2)
project(my_package)
find_package(catkin REQUIRED)
catkin_metapackage()
</code></pre>
<pre><code class="xml">&lt;exec_depend&gt;plubming_pubsub&lt;/exec_depend&gt;
&lt;exec_depend&gt;plubming_server_client&lt;/exec_depend&gt;

&lt;export&gt;
  &lt;!-- Other tools can request additional information be placed here --&gt;
  &lt;metapackage /&gt;
&lt;/export&gt;
</code></pre>
<h2 id="launchæ–‡ä»¶"><a href="#launchæ–‡ä»¶" class="headerlink" title="launchæ–‡ä»¶"></a>launchæ–‡ä»¶</h2><p>launchæ–‡ä»¶</p>
<p>ç”¨äºå¯åŠ¨å¤šä¸ªèŠ‚ç‚¹ï¼Œåˆ©ç”¨launchæ–‡ä»¶æé«˜æ•ˆç‡</p>
<h3 id="launchæ ‡ç­¾"><a href="#launchæ ‡ç­¾" class="headerlink" title="launchæ ‡ç­¾"></a>launchæ ‡ç­¾</h3><p>æ‰€æœ‰çš„æ ‡ç­¾éƒ½æ˜¯åœ¨<launch>ä¸‹çš„æ ¹æ ‡ç­¾</p>
<ul>
<li><p>launch</p>
<pre><code class="xml">&lt;launch deprecated=&quot;notification&quot;&gt;

&lt;/launch&gt;
</code></pre>
</li>
<li><p>node</p>
<pre><code class="xml">pkg=&quot;package_name&quot;
type=&quot;executable file&quot;
name=&quot;name of node&quot;
args=&quot;&quot;
machine=&quot;name of machine&quot;
respawn=&quot;true/false&quot;
required=&quot;true/false&quot;
ns=&quot;namespace&quot;
clear_params=&quot;true/false&quot;
output=&quot;log/screen&quot;
</code></pre>
</li>
<li><p>include</p>
<pre><code class="xml">&lt;include file=&quot;&quot; ns=&quot;&quot; /&gt;
</code></pre>
</li>
<li><p>remap</p>
<pre><code class="xml">&lt;node pkg=&quot;turtlesim&quot; type=&quot;turtlesim_node&quot; name=&quot;my_turtle&quot; output=&quot;screen&quot;/&gt;
    &lt;remap from=&quot;/turtle1/cmd_vel&quot; to=&quot;/cmd_vel&quot;/&gt;
&lt;/node&gt;
</code></pre>
</li>
<li><p>param</p>
<pre><code class="xml">name=&quot;namespace&quot;
value=&quot;value&quot;
type=&quot;data type&quot;
&lt;param name=&quot;param_node&quot; type=&quot;double&quot; value=&quot;1.09&quot;/&gt;
</code></pre>
</li>
<li><p>rosparam(å…ˆæ‰§è¡Œ)</p>
<pre><code class="xml">command=&quot;load/dump/delete&quot;
file=&quot;file path&quot;
param=&quot;&quot;
ns=&quot;namespace&quot;
</code></pre>
</li>
<li><p>group</p>
<pre><code class="xml">ns=&quot;namespace&quot;
clear_params=&quot;true/false&quot;
&lt;launch&gt;
    &lt;group ns=&quot;turle1&quot;&gt;
        
    &lt;/group&gt;
&lt;/launch&gt;
</code></pre>
</li>
<li><p>arg</p>
<pre><code class="xml">name=&quot;&quot;
defalut=&quot;&quot;
value=&quot;&quot;
doc=&quot;&quot;
</code></pre>
</li>
</ul>
<h2 id="å·¥ä½œç©ºé—´è¦†ç›–"><a href="#å·¥ä½œç©ºé—´è¦†ç›–" class="headerlink" title="å·¥ä½œç©ºé—´è¦†ç›–"></a>å·¥ä½œç©ºé—´è¦†ç›–</h2><p>å¯èƒ½ä¸åŒè‡ªå®šä¹‰å·¥ä½œç©ºé—´ä¹‹é—´æˆ–è€…è‡ªå®šä¹‰å·¥ä½œç©ºé—´ä¸å†…ç½®ç©ºé—´ä¸­çš„åŠŸèƒ½åŒ…å®ç°é‡åã€‚åœ¨åŠŸèƒ½åŒ…é‡åçš„æ—¶å€™ï¼Œsourceçš„æ—¶å€™è°åœ¨åé¢åŠ å…¥ç¯å¢ƒå˜é‡ï¼Œåˆ™è°ƒç”¨è°çš„åŒ…</p>
<pre><code class="bash">echo $ROS_PACKAGE_PATH
</code></pre>
<p>åº”å½“å°½é‡é¿å…åŠŸèƒ½åŒ…é‡å</p>
<p>å¤„ç†ç­–ç•¥ï¼š</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/Wiki/tags/ROS" style=color:#ffa2c4>
                ROS
            </a>
        </span>
        
    </div>

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-Manager/ " class="go-post">
        é˜…è¯»å…¨æ–‡
    </a>
</div>

<div class="post">

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-Environment/">
        <h2>
            ROS_Environment
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/Wiki/categories/Notes">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Notes
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/12/2
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="ROSæ¦‚è¿°ä¸ç¯å¢ƒæ­å»º"><a href="#ROSæ¦‚è¿°ä¸ç¯å¢ƒæ­å»º" class="headerlink" title="ROSæ¦‚è¿°ä¸ç¯å¢ƒæ­å»º"></a>ROSæ¦‚è¿°ä¸ç¯å¢ƒæ­å»º</h1><h2 id="HelloWorldçš„å®ç°"><a href="#HelloWorldçš„å®ç°" class="headerlink" title="HelloWorldçš„å®ç°"></a>HelloWorldçš„å®ç°</h2><pre><code class="bash">$ mkdir -p ros_learn/src
$ cd ros_learn
$ catkin_make
</code></pre>
<p>åˆ›å»ºåŠŸèƒ½åŒ…ï¼š</p>
<pre><code class="bash">catkin_create_pkg helloworld roscpp rospy std_msgs
</code></pre>
<p>pyè¿è¡Œæ•ˆç‡ä½ï¼Œä»£ç æ•ˆç‡é«˜è€Œcppä»£ç æ•ˆç‡ä½ï¼Œè¿è¡Œæ•ˆç‡é«˜ã€‚</p>
<ul>
<li><p>helloworld_c.cpp</p>
<pre><code class="cpp">#include &quot;ros/ros.h&quot;

int main(int argc,char *argv[])&#123;
    //node init
    ros::init(argc,argv,&quot;hello_node&quot;);

    //ros log
    ROS_INFO(&quot;hello world&quot;);

    //return 
    retur
</code></pre>
</li>
<li><p>CmakeList.txt</p>
<pre><code class="cpp">add_executable(helloworld_c src/helloworld_c.cpp)

target_link_libraries(helloworld_c
  $&#123;catkin_LIBRARIES&#125;
)
</code></pre>
</li>
</ul>
<p>å°†è¯¥å·¥ä½œç©ºé—´åŠ å…¥ç¯å¢ƒå˜é‡ï¼š</p>
<pre><code class="bash">source devel/setup.bash
roscore

//another terminal
rosrun helloworld helloworld_c
</code></pre>
<h2 id="é›†æˆå¼€å‘ç¯å¢ƒ"><a href="#é›†æˆå¼€å‘ç¯å¢ƒ" class="headerlink" title="é›†æˆå¼€å‘ç¯å¢ƒ"></a>é›†æˆå¼€å‘ç¯å¢ƒ</h2><h3 id="å®‰è£…ç»ˆç«¯terminator"><a href="#å®‰è£…ç»ˆç«¯terminator" class="headerlink" title="å®‰è£…ç»ˆç«¯terminator"></a>å®‰è£…ç»ˆç«¯terminator</h3><pre><code class="bash">sudo apt install terminator
</code></pre>
<h3 id="vscodeæ’ä»¶ä½¿ç”¨"><a href="#vscodeæ’ä»¶ä½¿ç”¨" class="headerlink" title="vscodeæ’ä»¶ä½¿ç”¨"></a>vscodeæ’ä»¶ä½¿ç”¨</h3><pre><code class="json">//ctrl+shift+B-----------ç¼–è¯‘

//task.jsoné…ç½®

&#123;
    &quot;version&quot;: &quot;2.0.0&quot;,
    &quot;tasks&quot;: [
        &#123;
            &quot;label&quot;: &quot;catkin_make:debug&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;catkin_make&quot;,
            &quot;args&quot;: [],
            &quot;problemMatcher&quot;: &quot;$msCompile&quot;,
            &quot;group&quot;: &#123;&quot;kind&quot;:&quot;build&quot;,&quot;isDefault&quot;:true&#125;,
            &quot;presentation&quot;: &#123;
                &quot;reveal&quot;: &quot;always&quot;,
            &#125;
        &#125;
    ]
&#125;
</code></pre>
<h3 id="launchæ–‡ä»¶"><a href="#launchæ–‡ä»¶" class="headerlink" title="launchæ–‡ä»¶"></a>launchæ–‡ä»¶</h3><p>rosä½¿ç”¨æœŸé—´å¯èƒ½éœ€è¦å¯åŠ¨å¤šä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤ä½¿ç”¨launchæ–‡ä»¶æ¥å®ç°</p>
<ul>
<li>é€‰å®šåŠŸèƒ½åŒ…â€”â†’æ·»åŠ launchæ–‡ä»¶å¤¹</li>
<li>æ·»åŠ launchæ–‡ä»¶</li>
<li>ç¼–è¾‘launchæ–‡ä»¶</li>
</ul>
<p>åŸºæœ¬ä½¿ç”¨</p>
<pre><code class="xml">&lt;launch&gt;
    &lt;!--add node--&gt;
    &lt;!--turtle gui--&gt;
    &lt;node pkg=&quot;turtlesim&quot; type=&quot;turtlesim_node&quot; name=&quot;turtle_gui&quot;/&gt;
    &lt;node pkg=&quot;turtlesim&quot; type=&quot;turtle_teleop_key&quot; name=&quot;turtle_key&quot;/&gt;
    &lt;node pkg=&quot;hello_vscode&quot; type=&quot;hello_vscode_c&quot; name=&quot;hello_vscode&quot; output=&quot;screen&quot;/&gt;

&lt;/launch&gt;
</code></pre>
<h2 id="ROSæ¶æ„"><a href="#ROSæ¶æ„" class="headerlink" title="ROSæ¶æ„"></a>ROSæ¶æ„</h2><p>ç«‹è¶³ç»´æŠ¤è€…çš„è§’åº¦ï¼ŒROSæ¶æ„å¯åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†</p>
<ul>
<li>mainï¼šæ ¸å¿ƒéƒ¨åˆ†ï¼Œä¸»è¦ç”±Garageå’Œä¸€äº›å¼€å‘è€…è®¾è®¡ã€æä¾›å’Œç»´æŠ¤ã€‚æä¾›äº†åˆ†å¸ƒå¼è®¡ç®—çš„åŸºæœ¬å·¥å…·ä»¥åŠROSçš„æ ¸å¿ƒéƒ¨åˆ†çš„ç¨‹åºç¼–å†™</li>
<li>universeï¼šå…¨çƒèŒƒå›´çš„ä»£ç ï¼Œç”±ä¸åŒå›½å®¶çš„ROSç¤¾åŒºå¼€å‘å’Œç»´æŠ¤ã€‚ä¸€ç§æ˜¯åº“çš„ä»£ç ï¼Œæœ€ä¸Šå±‚çš„ä»£ç æ˜¯åº”ç”¨çº§åˆ«ï¼Œè®©æœºå™¨äººå®Œæˆä¸€å®šçš„åŠŸèƒ½ã€‚</li>
</ul>
<p>ROSè‡ªèº«ç»“æ„</p>
<ul>
<li>æ–‡ä»¶ç³»ç»Ÿï¼šROSæ–‡ä»¶åœ¨ç¡¬ç›˜ä¸Šé¢æŸ¥çœ‹çš„ROSæºç çš„ç»„ç»‡å½¢å¼ã€‚</li>
<li>è®¡ç®—å›¾ï¼šROSåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œç†è§£èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»</li>
<li>å¼€æºç¤¾åŒº</li>
</ul>
<h2 id="ROSæ–‡ä»¶ç³»ç»Ÿ"><a href="#ROSæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="ROSæ–‡ä»¶ç³»ç»Ÿ"></a>ROSæ–‡ä»¶ç³»ç»Ÿ</h2><p><img src="/Wiki/2022/12/02/ROS_Learn/ROS-Environment/ros_file.png" alt="file structure"></p>
<h3 id="package-xml"><a href="#package-xml" class="headerlink" title="package.xml"></a>package.xml</h3><p>å®šä¹‰åŒ…å«å±æ€§ã€ä½œè€…ã€é‚®ç®±ç­‰å†…å®¹ï¼ŒåŒæ—¶å«æœ‰åŠŸèƒ½åŒ…çš„ä¾èµ–</p>
<pre><code class="xml">build_depend----------------å»ºç«‹ä¾èµ–
buiild_export_depend--------å¯¼å‡ºå¤–éƒ¨
exec_depend-----------------æ‰§è¡Œä¾èµ–
</code></pre>
<h3 id="ROSæ–‡ä»¶ç³»ç»Ÿç›¸å…³å‘½ä»¤"><a href="#ROSæ–‡ä»¶ç³»ç»Ÿç›¸å…³å‘½ä»¤" class="headerlink" title="ROSæ–‡ä»¶ç³»ç»Ÿç›¸å…³å‘½ä»¤"></a>ROSæ–‡ä»¶ç³»ç»Ÿç›¸å…³å‘½ä»¤</h3><pre><code class="bash">roscore
    -ros master
    -ros parameter server
  -ros log node

roscore -p xxxxx

sudo apt install xxxxx

sudo apt purge xxxxx

rospack list
rospack find
roscd xxx
rosis xxx
apt search xxx

rosed [package] [filename]
</code></pre>
<h2 id="ROSè®¡ç®—å›¾"><a href="#ROSè®¡ç®—å›¾" class="headerlink" title="ROSè®¡ç®—å›¾"></a>ROSè®¡ç®—å›¾</h2><p>rosè¿è¡Œä¹‹åï¼Œä¸åŒèŠ‚ç‚¹ä¹‹é—´æ˜¯é”™ç»¼å¤æ‚çš„ï¼Œrqt_graphèƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªæ˜¾ç¤ºå½“å‰ç³»ç»Ÿè¿è¡Œæƒ…å†µçš„åŠ¨æ€å›¾å½¢ã€‚</p>
<pre><code class="bash">rosrun rqt_graph rqt_graph
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/Wiki/tags/ROS" style=color:#03a9f4>
                ROS
            </a>
        </span>
        
    </div>

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-Environment/ " class="go-post">
        é˜…è¯»å…¨æ–‡
    </a>
</div>

<div class="post">

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-Components/">
        <h2>
            ROS_Component
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/Wiki/categories/Notes">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Notes
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/12/2
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="ROSå¸¸ç”¨ç»„ä»¶"><a href="#ROSå¸¸ç”¨ç»„ä»¶" class="headerlink" title="ROSå¸¸ç”¨ç»„ä»¶"></a>ROSå¸¸ç”¨ç»„ä»¶</h1><h2 id="TFåæ ‡å˜æ¢"><a href="#TFåæ ‡å˜æ¢" class="headerlink" title="TFåæ ‡å˜æ¢"></a>TFåæ ‡å˜æ¢</h2><p>tf2_geometry_msgs</p>
<p>tf2</p>
<p>tf2_ros</p>
<pre><code class="cpp">#include &quot;ros/ros.h&quot;
#include &quot;tf2_ros/static_transform_broadcaster.h&quot;
#include &quot;geometry_msgs/TransformStamped.h&quot;
#include &quot;tf2/LinearMath/Quaternion.h&quot;
int main(int argc, char *argv[])
&#123;
    ros::init(argc,argv,&quot;tf2_static_pub&quot;);
    ros::NodeHandle n;
    tf2_ros::StaticTransformBroadcaster static_pub;
    
    geometry_msgs::TransformStamped tfs;
    tfs.header.stamp = ros::Time::now();
    tfs.header.frame_id = &quot;base_link&quot;;
    tfs.child_frame_id  = &quot;laser&quot;;
    tfs.transform.translation.x = 0.2;
    tfs.transform.translation.y = 0.0;
    tfs.transform.translation.z = 0.5;
    //euler angle
    tf2::Quaternion qtn;
    qtn.setRPY(0.0,0.0,0.0);
    tfs.transform.rotation.x = qtn.getX();
    tfs.transform.rotation.y = qtn.getY();
    tfs.transform.rotation.z = qtn.getZ();
    tfs.transform.rotation.w = qtn.getW();

    static_pub.sendTransform(tfs);
    ros::spin();
    /* code */
    return 0;
&#125;
</code></pre>
<pre><code class="cpp">#include &quot;ros/ros.h&quot;
#include &quot;tf2_ros/transform_listener.h&quot;
#include &quot;tf2_ros/buffer.h&quot;
#include &quot;geometry_msgs/PointStamped.h&quot;
#include &quot;tf2_geometry_msgs/tf2_geometry_msgs.h&quot;
int main(int argc, char *argv[])
&#123;
    ros::init(argc,argv,&quot;tf2_static_sub&quot;);
    ros::NodeHandle n;
    tf2_ros::Buffer buff;
    tf2_ros::TransformListener listener(buff);
    geometry_msgs::PointStamped point;
    point.header.frame_id = &quot;laser&quot;;
    point.header.stamp = ros::Time::now();
    point.point.x = 2.0;
    point.point.y = 3.0;
    point.point.z = 5.0;
    ros::Rate rate(10);
    ros::Duration(1).sleep();
    while(ros::ok())
    &#123;
        
        geometry_msgs::PointStamped point_out;

        point_out = buff.transform(point,&quot;base_link&quot;);

        ROS_INFO(&quot;point:(%.2f,%.2f,%.2f)&quot;,point_out.point.x,point_out.point.y,point_out.point.z);
        rate.sleep();
    &#125;
    return 0;
&#125;
</code></pre>
<h2 id="ROSBAG"><a href="#ROSBAG" class="headerlink" title="ROSBAG"></a>ROSBAG</h2><h2 id="RQT"><a href="#RQT" class="headerlink" title="RQT"></a>RQT</h2>
            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/Wiki/tags/ROS" style=color:#ffa2c4>
                ROS
            </a>
        </span>
        
    </div>

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-Components/ " class="go-post">
        é˜…è¯»å…¨æ–‡
    </a>
</div>

<div class="post">

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-API/">
        <h2>
            ROS_API
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/Wiki/categories/Notes">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Notes
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/12/2
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="ROS-API"><a href="#ROS-API" class="headerlink" title="ROS API"></a>ROS API</h1><h2 id="ros-init-argc-argv-â€nameâ€-options"><a href="#ros-init-argc-argv-â€nameâ€-options" class="headerlink" title="ros::init(argc,argv,â€nameâ€,options);"></a>ros::init(argc,argv,â€nameâ€,options);</h2><ul>
<li>argc : number of parameter</li>
<li>argv : parameter</li>
<li>name : name of node</li>
<li>options : options(ros::init_options::AnonymousName)</li>
</ul>
<h2 id="NodeHandle-advertise-â€topic-nameâ€-length-latch"><a href="#NodeHandle-advertise-â€topic-nameâ€-length-latch" class="headerlink" title="NodeHandle.advertise(â€topic nameâ€,length,latch);"></a>NodeHandle.advertise<type>(â€topic nameâ€,length,latch);</h2><ul>
<li>latch : if latch is true, data can be sent only once</li>
</ul>
<h2 id="ros-spin-x2F-ros-spinOnce"><a href="#ros-spin-x2F-ros-spinOnce" class="headerlink" title="ros::spin()&#x2F;ros::spinOnce()"></a>ros::spin()&#x2F;ros::spinOnce()</h2><h2 id="ros-Time"><a href="#ros-Time" class="headerlink" title="ros::Time"></a>ros::Time</h2><ul>
<li><p>get currenti time</p>
<ul>
<li>1970.1.1 00:00:00:ğŸ•›</li>
</ul>
<pre><code class="cpp">ros::Time right_now = ros::Time::now();
double sec = right_now.toSec();
uint32_t sec_uint = right_now.sec;
</code></pre>
</li>
<li><p>set time</p>
<pre><code class="cpp">ros::Time t(2,0.31);
ros::Time t(10.35);
</code></pre>
</li>
<li><p>time duration</p>
<pre><code class="cpp">ros::Duration duration(4.5);
duration.sleep();
</code></pre>
</li>
<li><p>timer</p>
<pre><code class="cpp">ros::Timer = n.createTimer();
//parameter:duration,callback,oneshot,autostart
</code></pre>
</li>
</ul>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/Wiki/tags/ROS" style=color:#03a9f4>
                ROS
            </a>
        </span>
        
    </div>

    <a href="/Wiki/2022/12/02/ROS_Learn/ROS-API/ " class="go-post">
        é˜…è¯»å…¨æ–‡
    </a>
</div>

<div class="post">

    <a href="/Wiki/2022/12/02/Manipulator-Simulation/">
        <h2>
            Manuplator-Simulation
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/Wiki/categories/report">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                report
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/12/2
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="å…­è½´æœºæ¢°è‡‚ä»¿çœŸ"><a href="#å…­è½´æœºæ¢°è‡‚ä»¿çœŸ" class="headerlink" title="å…­è½´æœºæ¢°è‡‚ä»¿çœŸ"></a>å…­è½´æœºæ¢°è‡‚ä»¿çœŸ</h1><h2 id="1ç®€ä»‹"><a href="#1ç®€ä»‹" class="headerlink" title="1	ç®€ä»‹"></a>1	ç®€ä»‹</h2><ul>
<li><p>åœ¨å…­è½´æœºæ¢°è‡‚çš„ç ”å‘ä¸­ï¼Œéœ€è¦å¯¹æœºæ¢°è‡‚å…³èŠ‚ç”µæœºçš„åŠ›çŸ©è¿›è¡Œé€‰å‹ã€‚åœ¨ç»˜åˆ¶å‡ºç®€è¦çš„æœºæ¢°æ¨¡å‹åï¼ŒåŸºäº<code>Simulink/Simscape</code>è¿›è¡Œæ¨¡å‹ä»¿çœŸï¼Œæ ¹æ®å…³èŠ‚åŠ›çŸ©å¯¹ç”µæœº&#x2F;å‡é€Ÿå™¨è¿›è¡Œé€‰å‹</p>
</li>
<li><p>æœ¬æ¬¡ä»¿çœŸæœ‰è¾ƒå¤§çš„å±€é™æ€§ï¼š</p>
<ul>
<li>é€†è¿åŠ¨å­¦è§£ç®—ä¸<code>Simscape Multibody</code>ä»¿çœŸåˆ†ç¦»</li>
<li>å•æ¬¡ä»¿çœŸæ­¥é•¿ä¸º<code>0.001s</code>ï¼Œä»¿çœŸæ€»æ—¶é—´ä¸º10sï¼Œå¹¶æœªåšåˆ°å¾ªç¯ä»¿çœŸ</li>
<li>æ§åˆ¶å™¨ä¸ºç®€å•çš„<code>åŒç¯PID</code>ï¼Œå‚æ•°æœªç»†è°ƒ</li>
</ul>
</li>
<li><p>ä»¿çœŸæ¨¡å‹ä¸ç»“æœä»…ä¾›å‚è€ƒ</p>
</li>
</ul>
<h2 id="2æ–‡ä»¶ç»“æ„"><a href="#2æ–‡ä»¶ç»“æ„" class="headerlink" title="2	æ–‡ä»¶ç»“æ„"></a>2	æ–‡ä»¶ç»“æ„</h2><pre><code>.\
â”‚  CMakeLists.txt				#cmakeæ–‡ä»¶
â”‚  package.xml					#åŒ…ä¾èµ–è¯´æ˜æ–‡ä»¶
â”‚  robot_show.m					#å¯¼å…¥å¹¶æ˜¾ç¤ºæœºå™¨äººæ¨¡å‹ï¼Œè¾“å…¥ç›®æ ‡ç‚¹åæ ‡-å§¿æ€
â”‚  robot_hand_SLDASM.slxc		#Simulinkç¼“å­˜åŒ…
â”‚  ikSolver.slxc				#Simulinkç¼“å­˜åŒ…
â”‚  ikSolver.slx					#é€†è¿åŠ¨å­¦è§£ç®—-simulink
â”‚  robot_hand_SLDASM.slx		#ä»¿çœŸæ¨¡å‹-simulink
â”‚
â”œâ”€config  						#é…ç½®æ–‡ä»¶-ROS
â”œâ”€launch						#launchæ–‡ä»¶-ROS
â”œâ”€meshes						#æ¨¡å‹ææ–™/é¢œè‰²è¯´æ˜
â”œâ”€urdf							#urdfæ¨¡å‹æ–‡ä»¶å¤¹
â”œâ”€textures
â”œâ”€image							#image in docA
â”œâ”€CFL_Core						#Matlabé™„åŠ åŠŸèƒ½ï¼šSimscape Contact Force Library
â””â”€slprj							#CFLå·¥ç¨‹æ–‡ä»¶å¤¹
</code></pre>
<p><code>slprj</code>æ–‡ä»¶å¤¹è¯´æ˜ï¼š[<code>slprj folder</code>](<a target="_blank" rel="noopener" href="https://www.ilovematlab.cn/thread-214871-1-1.html">slprjæ–‡ä»¶å¤¹ â€“ MATLABä¸­æ–‡è®ºå› (ilovematlab.cn)</a>)</p>
<h2 id="3ç¯å¢ƒé…ç½®"><a href="#3ç¯å¢ƒé…ç½®" class="headerlink" title="3	ç¯å¢ƒé…ç½®"></a>3	ç¯å¢ƒé…ç½®</h2><h3 id="Matlab-Simscape-Contact-Force-Libraryå®‰è£…"><a href="#Matlab-Simscape-Contact-Force-Libraryå®‰è£…" class="headerlink" title="Matlab Simscape Contact Force Libraryå®‰è£…"></a>Matlab Simscape Contact Force Libraryå®‰è£…</h3><p>Matlab Simscape Contact Force Library åº“æ˜¯Matlabä¸­çš„é™„åŠ åŠŸèƒ½ï¼Œåœ¨Simscape Multibodyä»¿çœŸä¸­å®šä¹‰ç‰©ä½“ä¹‹é—´çš„ç¢°æ’åŠ›ï¼Œè¯¥åº“ç›®å‰å¯¹äº3Dä»¿çœŸåªæ”¯æŒä»¥ä¸‹å‡ ç§æ¨¡å‹ï¼Œå› æ­¤å¹¶ä¸èƒ½å®Œå…¨å®šä¹‰ç‰©ä½“çš„ä»»ä¸€è¡¨é¢ï¼Œå› æ­¤åœ¨ä»¿çœŸæ—¶å¯å¯¹å…¶è¿›è¡Œç®€åŒ–ã€‚<a target="_blank" rel="noopener" href="https://ww2.mathworks.cn/matlabcentral/fileexchange/47417-simscape-multibody-contact-forces-library?s_tid=srchtitle">MathWorksæ–‡æ¡£</a></p>
<p><img src="/Wiki/2022/12/02/Manipulator-Simulation/3d_library.jpg" alt="3d_library"></p>
<p>åœ¨Matlab Simscape Contact Force Libraryä¸­é€‰æ‹©å¯¹åº”Matlabçš„ç‰ˆæœ¬ï¼ˆæœ¬æ¬¡ä»¿çœŸä¸ºR2022aï¼‰è¿›è¡Œä¸‹è½½ï¼Œå°†è§£å‹åæ–‡ä»¶å¤¹ä¸­çš„<code>CFL_Core</code>æ–‡ä»¶å¤¹æ”¾å…¥å·¥ä½œç©ºé—´ä¸­å³å¯ä½¿ç”¨ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–Matlabæ‰€ä¸‹è½½çš„é™„åŠ åŠŸèƒ½åŒ…é»˜è®¤å­˜æ”¾åœ¨<code>C:\Users\UserName\AppData\Roaming\MathWorks\MATLAB Add-Ons\Collections</code>å½“ä¸­</p>
<h3 id="å…¶ä»–å®‰è£…"><a href="#å…¶ä»–å®‰è£…" class="headerlink" title="å…¶ä»–å®‰è£…"></a>å…¶ä»–å®‰è£…</h3><ul>
<li>Simulink&#x2F;Simscape</li>
<li>Simscape Multibody</li>
<li>Robotic System Toolbox</li>
</ul>
<h2 id="4ä»¿çœŸè¯´æ˜"><a href="#4ä»¿çœŸè¯´æ˜" class="headerlink" title="4	ä»¿çœŸè¯´æ˜"></a>4	ä»¿çœŸè¯´æ˜</h2><h3 id="ä»¿çœŸè¿è¡Œ"><a href="#ä»¿çœŸè¿è¡Œ" class="headerlink" title="ä»¿çœŸè¿è¡Œ"></a>ä»¿çœŸè¿è¡Œ</h3><p>è¿è¡Œä»¿çœŸçš„æ–‡ä»¶ä¸º<code>./IkSolver.slx</code>,<code>./robot_hand_SLDASM.slx</code>ä»¥åŠ<code>robot_show.m</code>æ–‡ä»¶</p>
<ul>
<li>é¦–å…ˆè¿è¡Œ<code>robot_show.m</code>æ–‡ä»¶ï¼Œè¾“å…¥ä½ æœŸæœ›è¾¾åˆ°çš„æœ«ç«¯åæ ‡<code>[x,y,z]</code>ï¼ˆå§¿æ€åŒæ ·å¯ä»¥è¿›è¡Œç»™å®šï¼Œç”±äºæœ«ç«¯åæ ‡ç³»ä¸ä¸–ç•Œåæ ‡ç³»åœ¨åˆå§‹ä½ç½®å¹¶éé‡åˆï¼Œå› æ­¤è®¾ä¸ºå®šå€¼ï¼‰ï¼Œå¦‚éœ€è¦å¯åœ¨ç¨‹åºä¸­è¿›è¡Œä¿®æ”¹ã€‚åŒæ—¶è¯¥æ®µç¨‹åºä¼šå°†solidworksç”Ÿæˆçš„urdfæ¨¡å‹å¯¼å…¥Matlabå¹¶ä¸”åœ¨ä¸‰ç»´åæ ‡ç³»ä¸­æ˜¾ç¤ºå‡ºæ¥ã€‚</li>
<li>åœ¨<code>robot_show.m</code>æ–‡ä»¶ä¸­ï¼Œä¼šåœ¨å¯¼å…¥æœºå™¨äººæ¨¡å‹åï¼Œæ ¹æ®æ‰€è¾“å…¥çš„åæ ‡è¿›è¡Œé€†è¿åŠ¨å­¦è§£ç®—ï¼Œç¨‹åºä¸­ä¼šè‡ªä¸»è¿è¡Œ<code>ikSolver.slx</code>çš„Simulinkæ–‡ä»¶ï¼Œå°†é€†è¿åŠ¨å­¦å¾—åˆ°çš„ç»“æœå­˜å‚¨åœ¨å·¥ä½œç©ºé—´çš„<code>Configs</code>å˜é‡ä¸­ã€‚è¯¥å˜é‡çš„å±æ€§ä¸º<code>Timeseries</code>ï¼Œå¯åœ¨å·¥ä½œç©ºé—´æ‰“å¼€æŸ¥çœ‹ï¼Œä½¿ç”¨<code>Configs.Data</code>æ¥å¯¹æ•°æ®è¿›è¡Œç´¢å¼•ã€‚</li>
<li>æœ€ç»ˆè¿è¡Œ<code>robot_hand_SLDASM.slx</code>çš„Simulinkæ–‡ä»¶ï¼Œå°†ä¼šè¿›è¡Œä»¿çœŸï¼Œä»¿çœŸæ—¶é—´ä¸º10sï¼Œä»¿çœŸæ­¥é•¿ä¸º0.001s</li>
<li>ä»¿çœŸæ¨¡å‹çš„èµ·å§‹ä½ç½®ä¸ºä¸Šä¸€æ¬¡è¿è¡Œ<code>robot_show.m</code>æ–‡ä»¶æ‰€è¾“å…¥çš„ç›®æ ‡ç‚¹ä½ç½®ï¼Œå³å¤šæ¬¡ä»¿çœŸä¹‹é—´å­˜åœ¨è¿ç»­æ€§ã€‚</li>
</ul>
<h3 id="ä»¿çœŸæ¨¡å‹æ­å»º"><a href="#ä»¿çœŸæ¨¡å‹æ­å»º" class="headerlink" title="ä»¿çœŸæ¨¡å‹æ­å»º"></a>ä»¿çœŸæ¨¡å‹æ­å»º</h3><p>ä»¿çœŸçš„ä¸»è¦æ¨¡å‹åœ¨<code>robot_hand_SLDASM.slx</code>å½“ä¸­ï¼ŒåŒ…å«äº†å»ºæ¨¡ä¸å¯è§†åŒ–ï¼Œç¢°æ’æ£€æµ‹å’Œæ§åˆ¶ã€‚</p>
<h4 id="aå»ºæ¨¡ä¸å¯è§†åŒ–"><a href="#aå»ºæ¨¡ä¸å¯è§†åŒ–" class="headerlink" title="a	å»ºæ¨¡ä¸å¯è§†åŒ–"></a>a	å»ºæ¨¡ä¸å¯è§†åŒ–</h4><p>åœ¨Simulinkä¸­å¯æ ¹æ®urdfç”ŸæˆMultibodyæ¨¡å‹ï¼Œå°†urdfä¸meshesåŠ å…¥Matlabè·¯å¾„ï¼Œè¿è¡Œä»£ç </p>
<pre><code class="matlab">smimport(&#39;./path/filename.urdf&#39;)
</code></pre>
<p><a target="_blank" rel="noopener" href="https://ww2.mathworks.cn/help/sm/ref/revolutejoint.html">Joint with one revolute primitive - MATLAB - MathWorks ä¸­å›½</a></p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨å¯èƒ½ç¢°æ’çš„æœ«ç«¯åŠ å…¥äº†ç®€æ˜“çš„Contact Forceç¢°æ’æ£€æµ‹ï¼Œä¸º<code>base_link</code>ä¸<code>joint4``joint5</code>çš„ç¢°æ’æ£€æµ‹ï¼Œå¯åœ¨<code>Mechanics Explorer</code>ä»¿çœŸç•Œé¢ä¸­è¿›è¡ŒæŸ¥çœ‹</p>
<ul>
<li>ç”±äºæœ¬æ¬¡ä»¿çœŸä»…ä»¿çœŸå…³èŠ‚å¤§è‡´çš„å…³èŠ‚åŠ›çŸ©ï¼Œå› æ­¤æ˜¯å¦åŠ å…¥Contact Forceå¯¹ä»¿çœŸç»“æœæ— å½±å“</li>
</ul>
<h4 id="bæ§åˆ¶"><a href="#bæ§åˆ¶" class="headerlink" title="b	æ§åˆ¶"></a>b	æ§åˆ¶</h4><p><code>revolute joint</code>å¯ä»¥æ˜¾ç¤ºå½“å‰å…³èŠ‚çš„è§’åº¦ã€é€Ÿåº¦ä¸åŠ›çŸ©ï¼Œå¹¶ä¸”å¯æ ¹æ®è¾“å…¥åŠ›çŸ©å¯¹å…³èŠ‚è¿›è¡Œæ§åˆ¶ã€‚ä»¿çœŸä¸­å°è£…äº†<code>Double Loop PID block</code>å¯¹è§’åº¦è¿›è¡Œæ§åˆ¶ï¼Œå¯¹äºæ¯ä¸€ä¸ªå…³èŠ‚çš„å‚æ•°å¯è‡ªè¡Œè°ƒèŠ‚</p>
<p>å…³èŠ‚çš„è¾“å…¥é‡é€šè¿‡<code>from workspace block</code>ä»å·¥ä½œç©ºé—´è¯»å–ï¼ˆæ­¤å¤„è¯»å–ä¸ºæ—¶åºä¿¡å·ï¼Œå·²åœ¨<code>robot_show.m</code>æ¨¡å—ä¸­è¿›è¡Œè½¬åŒ–ï¼‰ã€‚ä¸ºä¿è¯æœºæ¢°è‡‚çš„ç¨³å®šæ€§ï¼Œè¾“å…¥ä¿¡å·å¹¶éé˜¶è·ƒä¿¡å·è€Œæ˜¯ç»è¿‡è§£ç®—çš„æ–œå¡å‡½æ•°ã€‚åŒæ—¶åœ¨10sçš„ä»¿çœŸä¸­ï¼Œè®¾å®šè¿åŠ¨æ—¶é—´ä¸ºå‰3sã€‚</p>
<p>è‹¥å°†PIDäº§ç”Ÿçš„æ§åˆ¶ä¿¡å·ç›´æ¥è¾“å…¥å…³èŠ‚åŠ›çŸ©ä¼šäº§ç”Ÿä»£æ•°ç¯é—®é¢˜ï¼Œå³ä½ çš„è¾“å…¥ä¿¡å·ç”±è¾“å‡ºä¿¡å·å†³å®šï¼Œè€Œè¾“å‡ºä¿¡å·åˆå†³å®šäº†è¾“å…¥ä¿¡å·ã€‚å› æ­¤åœ¨è¾“å‡ºä¿¡å·ç«¯å¢åŠ ä¸€é˜¶ä¿æŒå™¨ï¼Œæ¥ä»¿çœŸå®é™…çš„æ§åˆ¶æƒ…å†µã€‚</p>
<p><img src="/Wiki/2022/12/02/Manipulator-Simulation/torque2.png"></p>
<p><img src="/Wiki/2022/12/02/Manipulator-Simulation/torque3.png" alt="image-20221201150745469"></p>
<p><img src="/Wiki/2022/12/02/Manipulator-Simulation/torque4.png" alt="image-20221201160434181"></p>
<ul>
<li>åˆšå¼€å§‹çš„è¶…è°ƒä¸ºä»¿çœŸç¯å¢ƒä¸­é‡åŠ›çš„å½±å“ï¼Œ</li>
</ul>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/Wiki/tags/RoboMaster" style=color:#ff7d73>
                RoboMaster
            </a>
        </span>
        
    </div>

    <a href="/Wiki/2022/12/02/Manipulator-Simulation/ " class="go-post">
        é˜…è¯»å…¨æ–‡
    </a>
</div>


             
<div class="page-current">

    <div class="prev">
        
    </div>

    <div class="page-index">

        

        <span class="current">
            1
        </span>

        

    </div>

    <div class="next">
        
    </div>

</div>

        </div>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            Â© 2018 - 2022 â€
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @yx-Chen
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>

</footer>

<script src="/Wiki/js/highlight.min.js"></script>
<script src="/Wiki/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

</body>

</html>